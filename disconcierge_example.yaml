# Database connection string
database: disconcierge.sqlite

# Specifies the type of database, either 'sqlite' or 'postgres'
database_type: sqlite

# Sets the log level for database operations
database_log_level: INFO

# The duration threshold for identifying slow database queries
database_slow_threshold: 200ms

# The base log level, for the default logger
log_level: INFO

# Sets a limit on the amount of time the bot has to initialize/start running
startup_timeout: 30s

# Time to allow for a graceful shutdown
shutdown_timeout: 60s


# Configuration for the AskCommand queue
queue:
  # Maximum queue size. 0=unlimited
  size: 100
  # Maximum age of a request that will be returned from the queue. Requests older than this will be discarded. 0=unlimited
  max_age: 3m
  # Sleep for this duration when the queue is empty, before checking again
  sleep_empty: 1s
  # Sleep for this duration when the bot is paused, before checking again
  sleep_paused: 5s

# Configuration for OpenAI integration
openai:
  token: your_openai_token_here
  log_level: INFO
  assistant_id: your_assistant_id_here

# Configuration for Discord integration
discord:
  # Discord bot token (from the 'Bot' tab in the discord dev portal)
  token: your_discord_token_here
  # Discord application ID (from the 'General Information' tab in the discord dev portal)
  application_id: your_discord_application_id_here
  # GuildID specifies the guild ID used when registering slash commands. Leave empty for commands to be registered as global.
  guild_id: your_discord_guild_id_here
  # Base discord logging level
  log_level: WARN
  # Log level for the `discordgo` library's logger
  discordgo_log_level: WARN
  # Message sent to the notification channel when the bot connects to the discord gateway
  startup_message: "I'm here!"

  # Discord gateway intents (see https://discord.com/developers/docs/topics/gateway#gateway-intents)
  gateway_intents: 3243773

  # Configuration for the Discord webhook server
  webhook_server:
    # Determines if the webhook server should be active
    enabled: false
    # The address and port on which the server should listen
    listen: 127.0.0.1:5001
    # The network type for listening
    listen_network: tcp
    # Configuration for SSL/TLS
    ssl:
      cert: "/etc/ssl/cert.pem"
      key: "/etc/ssl/cert.key"
      # 771 = TLS12
      tls_min_version: 771

    log_level: INFO
    # The public key used for verifying Discord interaction requests
    public_key: your_discord_public_key_here
    # Maximum duration for reading the entire request, including the body
    read_timeout: 5s
    # Amount of time allowed to read request headers
    read_header_timeout: 5s
    # Maximum duration before timing out writes of the response
    write_timeout: 10s
    # Maximum amount of time to wait for the next request when keep-alives are enabled
    idle_timeout: 30s

# Configuration for the backend API server
api:
  # The address and port on which the server should listen
  listen: 127.0.0.1:5000
  # The network type for listening
  listen_network: tcp
  # Configuration for SSL/TLS
  ssl:
    cert: "/etc/ssl/cert.pem"
    key: "/etc/ssl/cert.key"
    # 771 = TLS12
    tls_min_version: 771
  # Secret used for signing cookies
  secret: your_api_secret_here
  log_level: INFO
  # Cross-origin resource sharing settings
  cors:
    allow_origins: []
    allow_methods:
      - GET
      - POST
      - PUT
      - PATCH
      - DELETE
      - OPTIONS
      - HEAD
    allow_headers:
      - Origin
      - Content-Length
      - Content-Type
      - Accept
      - Authorization
      - X-Requested-With
      - Cache-Control
      - X-CSRF-Token
      - X-Request-ID
    expose_headers:
      - Content-Type
      - Content-Length
      - Accept-Encoding
      - X-Request-ID
      - Location
      - ETag
      - Authorization
      - Last-Modified
    allow_credentials: true
    max_age: 12h
  # Maximum duration for reading the entire request, including the body
  read_timeout: 5s
  # Amount of time allowed to read request headers
  read_header_timeout: 5s
  # Maximum duration before timing out writes of the response
  write_timeout: 10s
  # Maximum amount of time to wait for the next request when keep-alives are enabled
  idle_timeout: 30s
  # Max age for session cookies
  session_max_age: 6h
  # If true, the SameSite attribute of the session cookie will be set to 'None'
  development: false
